/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./Utils","../library","sap/m/IllustratedMessageType","sap/ui/base/BindingParser"],function(e,t,r,a){"use strict";var s=t.CardBlockingMessageType;function n(e){return a.complexParser.escape(JSON.stringify(e,null,4))}function T(e){if(e.options){e.options.body=e.body&&e.body.toString();e.options.headers=Object.fromEntries(e.options.headers)}return n(e)}var R={};R.configureDataRequestErrorInfo=function(t,R){var E=t.requestErrorParams.response,o=t.requestErrorParams.responseText,i=r.ErrorScreen,_=R.getTranslatedText("CARD_ERROR_CONFIGURATION_TITLE"),l=R.getTranslatedText("CARD_ERROR_CONFIGURATION_DESCRIPTION"),d=t.requestSettings,u=d.request?d.request.url:"",S=R.getTranslatedText("CARD_ERROR_REQUEST_DETAILS",[u]);if(E){_=E.status+" "+E.statusText;l=R.getTranslatedText("CARD_ERROR_REQUEST_DESCRIPTION");switch(E.status){case 0:switch(E.statusText){case"timeout":i=r.ReloadScreen;_="408 "+R.getTranslatedText("CARD_ERROR_REQUEST_TIMEOUT_TITLE");S=R.getTranslatedText("CARD_ERROR_REQUEST_TIMEOUT_DETAILS",[u]);break;default:i=r.PageNotFound;_="404 "+R.getTranslatedText("CARD_ERROR_REQUEST_NOTFOUND_TITLE");break}break;case 404:i=r.PageNotFound;if(!E.statusText){_="404 "+R.getTranslatedText("CARD_ERROR_REQUEST_NOTFOUND_TITLE")}break;case 408:i=r.ReloadScreen;S=R.getTranslatedText("CARD_ERROR_REQUEST_TIMEOUT_DETAILS",[u]);break;case 401:case 403:case 511:l=R.getTranslatedText("CARD_ERROR_REQUEST_ACCESS_DENIED_DESCRIPTION");break;default:break}}S=_+"\n"+l+"\n"+S+"\n\n";S+=R.getTranslatedText("CARD_LOG_MSG")+"\n"+(E?E.statusText:t.requestErrorParams.message)+"\n\n";S+=R.getTranslatedText("CARD_REQUEST_SETTINGS")+"\n"+n(d)+"\n\n";if(E){S+=R.getTranslatedText("CARD_REQUEST")+"\n"+T(t.requestErrorParams.settings)+"\n\n"+R.getTranslatedText("CARD_RESPONSE_HEADERS")+"\n"+n(Object.fromEntries(E.headers))+"\n\n"}if(E&&o){S+=R.getTranslatedText("CARD_RESPONSE")+"\n";if(e.isJson(o)){S+=n(JSON.parse(o))}else{S+=a.complexParser.escape(o)}S+="\n\n"}S+=R.getTranslatedText("CARD_MANIFEST")+"\n"+n(R._oCardManifest.getJson())+"\n\n";S+=R.getTranslatedText("CARD_STACK_TRACE")+"\n"+(new Error).stack;return{type:s.Error,illustrationType:i,title:_,description:l,details:S,httpResponse:E}};R.configureErrorInfo=function(e,t){var r=t.getTranslatedText("CARD_MANIFEST")+"\n"+n(t._oCardManifest.getJson())+"\n\n"+t.getTranslatedText("CARD_STACK_TRACE")+"\n"+(e.originalError?e.originalError.stack:(new Error).stack);return{type:s.Error,illustrationType:e.illustrationType,title:e.title,description:e.description,details:r}};return R});
//# sourceMappingURL=ErrorHandler.js.map