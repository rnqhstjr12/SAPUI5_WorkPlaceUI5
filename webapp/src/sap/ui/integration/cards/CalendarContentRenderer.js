/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./BaseContentRenderer","sap/ui/core/IconPool","sap/ui/core/InvisibleText","sap/ui/core/Lib","sap/ui/unified/library","sap/ui/unified/CalendarLegendRenderer"],function(e,t,a,n,r,i){"use strict";var p=r.CalendarDayType;var l=e.extend("sap.ui.integration.cards.CalendarContentRenderer",{apiVersion:2});l.renderContent=function(e,t){var a=n.getResourceBundleFor("sap.ui.integration"),r=t.getId();e.openStart("div",r+"card-group");e.attr("role","group");e.attr("aria-label",a.getText("CARDS_CALENDAR"));e.class("sapFCalCard");e.openEnd();e.openStart("div",r+"card-layout");e.class("sapFCalCardLayout");e.openEnd();e.openStart("div",r+"left-side");e.class("sapFCalCardLeftSide");e.openEnd();e.renderControl(t._oCalendar);e.openStart("div",r+"card-legend");e.attr("aria-label",a.getText("CARDS_CALENDAR_LEGEND"));e.openEnd();e.renderControl(t._oLegend);e.close("div");e.openStart("div","card-line-separator");e.class("sapFCalCardLineSeparator");e.openEnd();e.close("div");e.close("div");e.openStart("div",r+"right-side");e.class("sapFCalCardRightSide");e.openEnd();l.renderAppointments(e,t);if(t._bNeedForMoreButton()){e.renderControl(t._getMoreButton())}e.close("div");e.close("div");e.close("div")};l.renderAppointments=function(e,t){var a=t._getVisibleAppointments(),r=t._getCurrentAppointment(),i=n.getResourceBundleFor("sap.ui.integration");e.openStart("div",t.getId()+"appointments-list");e.attr("role","list");e.attr("aria-label",i.getText("CARDS_CALENDAR_APPOINTMENTS"));e.class("sapFCalCardAppList");e.openEnd();if(!a.length){e.openStart("div");e.class("sapFCalCardNoItemsText");e.openEnd();e.text(t.getNoAppointmentsText());e.close("div")}a.forEach(function(a){l.renderAppointment(e,t,a,r==a)});e.close("div")};l.renderAppointment=function(e,t,a,n){var r=t._oCalendar.getSelectedDates()[0].getStartDate();e.openStart("div");e.attr("role","listitem");e.class("sapUiCalendarAppContainer");if(n){e.class("sapUiCalendarAppCurrent")}e.openEnd();e.openStart("div");e.class("sapUiCalendarAppContainerLeft");e.openEnd();e.openStart("div");e.class("sapUiCalendarAppStart");e.openEnd();e.text(a._getDateRangeIntersectionText(r).start);e.close("div");e.openStart("div");e.class("sapUiCalendarAppEnd");e.openEnd();e.text(a._getDateRangeIntersectionText(r).end);e.close("div");e.close("div");e.openStart("div");e.class("sapUiCalendarAppContainerRight");e.openEnd();this._renderAppointment(e,t,a,r);e.close("div");l.renderAdditionalAriaLabel(e,t,a);e.close("div")};l._renderAppointment=function(e,t,a,n){var r=a.getId();var i=a.getTitle();var o=a.getText();var d=a.getType();var s=a.getIcon();var c=!i||!o;e.openStart("div",a);e.class("sapUiCalendarApp");if(a.getClickable()){e.attr("tabindex","0")}else{e.class("sapUiCalendarAppDisabled")}e.accessibilityState(a,l.getAccProps(a));if(d&&d!=p.None){e.class("sapUiCalendarApp"+d)}if(c){e.class("sapUiCalendarAppOneLine")}e.openEnd();e.openStart("div");e.class("sapUiCalendarAppCont");e.openEnd();if(s){var g=["sapUiCalendarAppIcon"];var v={};v["id"]=r+"-Icon";v["title"]=null;v["role"]="img";e.icon(s,g,v)}e.openStart("div");e.class("sapUiCalendarAppTitleWrapper");e.openEnd();if(i){e.openStart("span",r+"-Title");e.class("sapUiCalendarAppTitle");e.openEnd();e.text(i);e.close("span")}if(o){e.openStart("span",r+"-Text");e.class("sapUiCalendarAppText");e.openEnd();e.text(o);e.close("span")}e.close("div");e.close("div");e.close("div")};l.renderAdditionalAriaLabel=function(e,t,a){var r=n.getResourceBundleFor("sap.ui.unified"),i=t._oFormatAria,l=a.getType(),o=t._oLegend?t._oLegend.getAppointmentItems():[];var d=r.getText("CALENDAR_START_TIME")+": "+i.format(a.getStartDate());d=d+"; "+r.getText("CALENDAR_END_TIME")+": "+i.format(a.getEndDate());if(l&&l!=p.None){d=d+"; "+this.getAriaTextForType(l,o)}e.openStart("span",a.getId()+"-Descr");e.class("sapUiInvisibleText");e.openEnd();e.text(d);e.close("span")};l.getAriaTextForType=function(e,t){var a,n,r,p;if(t&&t.length){for(var p=0;p<t.length;p++){r=t[p];if(r.getType()===e){a=r.getText();break}}}if(!a){n=i.getTypeAriaText(e);if(n){a=n.getText()}}return a};l.getAccProps=function(e){var t=e.getId();var n={labelledby:{value:a.getStaticId("sap.ui.unified","APPOINTMENT")+" "+t+"-Descr",append:true},selected:null};if(e.getTitle()){n["labelledby"].value=n["labelledby"].value+" "+t+"-Title"}if(e.getText()){n["labelledby"].value=n["labelledby"].value+" "+t+"-Text"}if(e.getSelected()){n["labelledby"].value=n["labelledby"].value+" "+a.getStaticId("sap.ui.unified","APPOINTMENT_SELECTED")}return n};return l});
//# sourceMappingURL=CalendarContentRenderer.js.map