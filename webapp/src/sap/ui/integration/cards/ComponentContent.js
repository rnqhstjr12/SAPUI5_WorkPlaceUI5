/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./BaseContent","./ComponentContentRenderer","sap/ui/integration/library","sap/m/IllustratedMessageType","sap/ui/core/ComponentContainer","sap/ui/core/Component"],function(t,e,n,o,a,i){"use strict";const r=n.CardPreviewMode;const s=n.CardDataMode;var p=t.extend("sap.ui.integration.cards.ComponentContent",{metadata:{library:"sap.ui.integration"},renderer:e});i._fnOnInstanceCreated=function(t){var e=t.getComponentData();if(e&&e["__sapUiIntegration_card"]&&t.onCardReady){t.onCardReady(e["__sapUiIntegration_card"])}};p.prototype.onAfterRendering=function(){if(this._oComponent?.tileSetVisible){const t=this.getCardInstance();const e=t?._getActualDataMode()===s.Active;this._oComponent.tileSetVisible(e)}};p.prototype.refreshData=function(){t.prototype.refreshData.apply(this,arguments);if(this._oComponent?.tileRefresh){this._oComponent.tileRefresh()}};p.prototype.exit=function(){t.prototype.exit.apply(this,arguments);this._oComponent=null};p.prototype.applyConfiguration=function(){const t=this.getCardInstance();const e=this.getParsedConfiguration();if(!e){return}if(t.getPreviewMode()===r.Abstract){this.fireEvent("_actionContentReady");return}const n=new a({manifest:e.componentManifest,async:true,settings:{componentData:this._prepareComponentData()},componentCreated:t=>{this._oComponent=t.getParameter("component");this.fireEvent("_actionContentReady");this.fireEvent("_updated")},componentFailed:()=>{this.fireEvent("_actionContentReady");this.handleError({illustrationType:o.ErrorScreen,title:t.getTranslatedText("CARD_DATA_LOAD_ERROR"),description:"Card content failed to create component"})}});this.setAggregation("_content",n)};p.prototype._prepareComponentData=function(){const t=this.getCardInstance();const e=t.getManifestEntry("/sap.card/configuration/componentData");const n=e||{};n["__sapUiIntegration_card"]=t;return n};return p});
//# sourceMappingURL=ComponentContent.js.map