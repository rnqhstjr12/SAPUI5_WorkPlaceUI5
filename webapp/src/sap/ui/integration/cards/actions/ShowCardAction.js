/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./BaseAction","sap/m/Dialog","sap/ui/core/Element","sap/ui/dom/jquery/Focusable"],function(e,t,a){"use strict";var i=e.extend("sap.ui.integration.cards.actions.ShowCardAction",{metadata:{library:"sap.ui.integration"}});i.prototype.execute=function(){var e=this.getParameters()||{},t=this.getCardInstance(),i=t.getHostInstance(),n;if(e._cardId){n=a.getElementById(e._cardId)}else{n=t._createChildCard(e)}if(i&&i.onShowCard){i.onShowCard(n,e);return}this._openDialog(n,t)};i.prototype._openDialog=function(e,a){const i=new t({content:[e],contentWidth:this.getParameters().width,showHeader:false,ariaLabelledBy:e.getId(),escapeHandler:function(t){e.hide();t.resolve()},resizable:this.getParameters().resizable});const n={onmousedown:t=>{if(t.target.classList.contains("sapMDialogResizeHandler")){e.setHeight("100%");i.setContentHeight(i.getDomRef("cont").offsetHeight+"px");i.setVerticalScrolling(false);i.removeEventDelegate(n)}}};i.addStyleClass("sapUiIntCardDialog");i.addEventDelegate(n);i.attachAfterClose(()=>{i.destroy()});a.addDependent(i);e.startManifestProcessing();e.attachManifestApplied(function(){i.open()});e.attachEvent("_ready",function(){setTimeout(function(){this._setFocus(e,i)}.bind(this),0)}.bind(this))};i.prototype._setFocus=function(e,t){var a=e.getAggregation("_filter"),i=e.getAggregation("_content"),n=e.getAggregation("_footer"),o;o=a&&a.$().firstFocusableDomRef()||i&&i.$().firstFocusableDomRef()||n&&n.$().firstFocusableDomRef();if(o){t.setInitialFocus(o.id);o.focus()}};return i});
//# sourceMappingURL=ShowCardAction.js.map