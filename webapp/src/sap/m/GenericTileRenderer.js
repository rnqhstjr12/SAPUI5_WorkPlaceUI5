/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/library","sap/base/security/encodeCSS","sap/ui/core/Theming"],function(e,t,o){"use strict";var n=e.GenericTileMode;var a=e.LoadState;var s=e.FrameType;var r=e.ValueColor;var i={apiVersion:2};i.render=function(e,o){var i=o._getTooltipText();var l=o._getAriaText();var d=o.getHeaderImage();var c=o.hasListeners("press");var p=o.getState();var f=t("sapMGTState"+p);var g;var v=o.getFrameType();var T=o.getAriaRoleDescription();var h=o.getAriaRole();var S=v===s.OneByHalf||v===s.TwoByHalf;var M=o._sBGColor;var u=o._isIconMode()&&v===s.OneByOne;var I=o.getLinkTileContents();var m=o.getUrl()&&(!o._isInActionScope()||o.getMode()===n.IconMode)&&p!==a.Disabled&&!o._isNavigateActionEnabled();if(o._isInActionScope()){g=t("sapMGTScopeActions")}else{g=t("sapMGTScopeDisplay")}if(m){e.openStart("a",o);e.attr("href",o.getUrl());e.attr("rel","noopener noreferrer");if(!this._isDragabble(o)){e.attr("draggable","false")}}else{e.openStart("div",o)}if(i&&p!==a.Loading){e.attr("title",i)}e.class("sapMGT");e.class(f);e.class(g);if(!o._isInActionScope()&&o._bShowActionsView){e.class("sapMGTScopeActions")}if(o._isIconMode()){if(v===s.OneByOne){var C="sapMGTOneByOne"}else if(v===s.TwoByHalf){var C="TwoByHalf"}}e.class(o._isIconMode()?C:v);var y=o.getMode()===n.ArticleMode,_=o.getMode()===n.ActionMode;if(_){e.class("sapMGTActionMode")}if(y){e.class("sapMGTArticleMode")}if(o._isIconMode()){e.class("sapMGTIconMode");if(this._isThemeHighContrast()){e.class("HighContrastTile")}}if(!y&&!_&&v!==s.OneByHalf&&(o.getSystemInfo()||o.getAppShortcut())){e.class("tileWithAppInfo")}if(o._isIconMode()){if(v===s.TwoByHalf){e.class("sapMGTTwoByHalf")}else if(v===s.OneByOne){if(!this._isThemeHighContrast()){e.style("background-color",M)}else{e.style("border-color",M);e.style("box-shadow","0 0 0 1px"+M)}}}if(h){e.attr("role",h)}else if(!m){e.attr("role",c?"button":"presentation")}else{e.attr("role","link")}if(p===a.Loaded){e.attr("aria-label",l)}if(T){e.attr("aria-roledescription",T)}if(p!==a.Disabled){if(!o.isInActionRemoveScope()&&o.getPressEnabled()){e.class("sapMPointer")}if(!o.getPressEnabled()){e.class("sapMAutoPointer")}e.attr("tabindex","0")}if(o.getWidth()){e.style("width",o.getWidth())}if(o.getBackgroundImage()){e.style("background-image","url('"+t(o.getBackgroundImage())+"')");e.class("sapMGTBackgroundImage")}if(o.getMode()===n.HeaderMode){e.class("sapMGTHeaderMode")}var G=o.getTileContent();var B=G.length;if(this._isNewsContentPresent(G,B)){e.class("sapMGTNewsContent")}if(I.length>0){e.class("sapMGTLinkTileContent")}e.openEnd();if(i){o.getAggregation("_invisibleText").setText(i);e.renderControl(o.getAggregation("_invisibleText"))}var O=false;var H=false;function b(e,t){if(v===s.OneByOne){e.openStart("div").class("sapMGTContentShimmerPlaceholderItemOneByOne");e.class("sapMGTContentShimmerPlaceholderWithDescriptionOneByOne");e.openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderRowsOneByOne").openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderIconOneByOne").class("sapMGTLoadingShimmer").openEnd().close("div");if(t){e.openStart("div").class("sapMGTContentShimmerPlaceholderItemTextOneByOne").class("sapMGTLoadingShimmer").openEnd().close("div")}}else{e.openStart("div").class("sapMGTContentShimmerPlaceholderItemTwoByHalf");e.class("sapMGTContentShimmerPlaceholderWithDescriptionTwoByHalf");if(!o.getIconLoaded()&&!t){e.class("sapMGTContentShimmerPlaceholderWithDescriptionTwoByHalfIconLoaded")}e.openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderRowsTwoByHalf").openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderIconTwoByHalf").class("sapMGTLoadingShimmer").openEnd().close("div");if(t){e.openStart("div").class("sapMGTContentShimmerPlaceholderItemTextTwoByHalf").class("sapMGTLoadingShimmer").openEnd().close("div")}}e.close("div");e.close("div")}if(p===a.Loading){if(o._isIconMode()){b(e,true)}else{e.openStart("div").class("sapMGTContentShimmerPlaceholderItem");e.class("sapMGTContentShimmerPlaceholderWithDescription");e.openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderRows").openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderItemHeader").class("sapMGTLoadingShimmer").openEnd().close("div");e.openStart("div").class("sapMGTContentShimmerPlaceholderItemText").class("sapMGTLoadingShimmer").openEnd().close("div");if(!S){for(var E=0;E<B;E++){e.renderControl(G[E])}}e.close("div");e.close("div")}}else{if(!_&&this._isValueColorValid(o.getValueColor())){e.openStart("div");e.class("sapMGTCriticalBorder");e.class(o.getValueColor());e.openEnd();e.close("div")}if(o._isIconMode()){if(!o.getIconLoaded()){b(e,false)}else{if(v===s.OneByOne){e.openStart("div");e.class("sapMGTHideOverflow");e.openEnd();e.openStart("div");e.class("sapMGTIconWrapper");e.openEnd()}e.openStart("div");if(v===s.OneByOne){e.class("sapMGTOneByOneIcon")}else{e.class("sapMGTTwoByHalfIcon");if(o._sTileBadge){e.class("sapMGTIconBadge")}else if(!this._isThemeHighContrast()){e.style("background-color",M)}else{e.class("HighContrastTile");e.style("border-color",M);e.style("box-shadow","0 0 0 1px"+M)}}e.openEnd();if(o.getTileIcon()||o._sTileBadge){var A=o._generateIconAggregation(o._sTileBadge?"sap-icon://folder-full":o.getTileIcon());if(A){var w=o.getAggregation(A);if(o._sTileBadge){w.setColor(M)}e.renderControl(w)}if(o._sTileBadge){e.openStart("div",o.getId()+"-tileBadge").class("sapMGTileBadge").openEnd();e.text(o._sTileBadge);e.close("div")}}e.close("div")}}if(this._shouldRenderInfoContainer(o)&&v===s.TwoByHalf){e.openStart("div",o.getId()+"-wrapper").class("sapMGTWrapper").openEnd();e.openStart("div",o.getId()+"-wrapper-content").class("sapMGTWrapperCnt").openEnd()}e.openStart("div");e.class("sapMGTHdrContent");if(o._isIconMode()){if(v===s.OneByOne){var C="sapMGTOneByOne";if(!o.getIconLoaded()){C=C.concat(" sapMGTOneByOneIconLoaded")}}else if(v===s.TwoByHalf){var C="TwoByHalf"}}e.class(o._isIconMode()?C:v);if(i){e.attr("title",i)}if(_&&o.getFrameType()===s.TwoByOne&&d){e.class("sapMGTHdrImage")}e.openEnd();if(d){o._oImage.removeStyleClass(r.None);if(this._sPreviousStyleClass){o._oImage.removeStyleClass(this._sPreviousStyleClass)}this._sPreviousStyleClass=this._isValueColorValid(o.getValueColor())?o.getValueColor():r.None;o._oImage.addStyleClass(this._sPreviousStyleClass);e.renderControl(o._oImage)}this._renderHeader(e,o);if(u){e.close("div");e.close("div")}for(var E=0;E<B;E++){O=o._checkFooter(G[E],o)&&(G[E].getFooter()||G[E].getUnit());var P=G[E].getContent();if(P){if(v===s.OneByHalf&&P.getMetadata().getElementName()==="sap.m.ImageContent"){H=false}else{H=true;break}}}if(!(S&&H)&&o.getSubheader()){this._renderSubheader(e,o)}e.close("div");if(!o._isIconMode()){e.openStart("div",o.getId()+"-content");e.class("sapMGTContent");if(v===s.TwoByOne){e.class("TwoByOne")}if(o.getSystemInfo()||o.getAppShortcut()){if(G.length===0){e.class("appInfoWithoutTileCnt")}if(O&&v!==s.OneByHalf){e.class("appInfoWithFooter")}else{e.class("appInfoWithoutFooter")}}e.openEnd();if(I.length>0){e.openStart("div",o.getId()+"-linkTileContent").class("sapMGTLinkTileContentWrapper").openEnd();for(var E=0;E<I.length;E++){e.renderControl(I[E].getLinkTileContentInstance())}e.close("div")}for(var E=0;E<B;E++){e.renderControl(G[E])}if(this._shouldRenderInfoContainer(o)&&v!==s.TwoByHalf){this._renderInfoContainer(e,o)}e.close("div")}if(this._shouldRenderInfoContainer(o)&&v===s.TwoByHalf){e.close("div");this._renderInfoContainer(e,o);e.close("div")}if(o._isActionMode()&&o.getActionButtons().length>0){e.openStart("div",o.getId()+"-actionButtons");e.class("sapMGTActionModeContainer");e.openEnd();o.getActionButtons().forEach(function(t){e.renderControl(t)});e.close("div")}}if(p!==a.Loaded&&p!==a.Loading){this._renderStateOverlay(e,o,i)}if(p!==a.Disabled){this._renderHoverOverlay(e,o);this._renderFocusDiv(e,o)}if(o._isInActionScope()){this._renderActionsScope(e,o)}if(m){e.close("a")}else{e.close("div")}};i._isDragabble=function(e){var t=e.getDragDropConfig().some(function(t){return t.isDraggable(e)});if(!t){var o=e.getParent();if(o&&o.getDragDropConfig){t=o.getDragDropConfig().some(function(t){return t.isDraggable(e)})}}return t};i._shouldRenderInfoContainer=function(e){var t=e.getFrameType(),o=e.getMode()===n.ArticleMode,a=e.getMode()===n.ActionMode,r=e.getMode()===n.IconMode;if(t===s.OneByOne&&r){return true}return!o&&!a&&!r&&t!==s.OneByHalf&&(e.getSystemInfo()||e.getAppShortcut())};i._renderInfoContainer=function(e,t){e.openStart("div",t.getId()+"-tInfo");e.class("sapMGTTInfoContainer");e.openEnd();e.openStart("div",t.getId()+"-tInfo-content");e.class("sapMGTTInfo");e.openEnd();if(t.getAppShortcut()){e.openStart("div",t.getId()+"-appShortcutWrapper");e.class("sapMGTAppShortcutText").openEnd();e.renderControl(t._oAppShortcut);e.close("div")}if(t.getSystemInfo()){e.openStart("div",t.getId()+"-sytemInfoWrapper");e.class("sapMGTSystemInfoText").openEnd();e.renderControl(t._oSystemInfo);e.close("div")}e.close("div");e.close("div")};i._renderFocusDiv=function(e,t){e.openStart("div",t.getId()+"-focus");e.class("sapMGTFocusDiv");e.openEnd();e.close("div")};i._renderStateOverlay=function(e,t,o){var n=t.getState();e.openStart("div",t.getId()+"-overlay");e.class("sapMGTOverlay");if(o){e.attr("title",o)}e.openEnd();switch(n){case a.Loading:t._oBusy.setBusy(n==a.Loading);e.renderControl(t._oBusy);break;case a.Failed:e.openStart("div",t.getId()+"-failed-ftr");e.class("sapMGenericTileFtrFld");e.openEnd();e.openStart("div",t.getId()+"-failed-icon");e.class("sapMGenericTileFtrFldIcn");e.openEnd();e.renderControl(t._oErrorIcon);e.close("div");if(!t._isInActionScope()&&!t._bShowActionsView){e.openStart("div",t.getId()+"-failed-text");e.class("sapMGenericTileFtrFldTxt");e.openEnd();e.renderControl(t.getAggregation("_failedMessageText"));e.close("div")}e.close("div");break;default:}e.close("div")};i._renderActionsScope=function(e,t){if(t.getState()!==a.Disabled){e.renderControl(t._oRemoveButton);e.renderControl(t._oMoreIcon)}};i._renderHoverOverlay=function(e,t){e.openStart("div",t.getId()+"-hover-overlay");if(t.getBackgroundImage()){e.class("sapMGTWithImageHoverOverlay")}else{e.class("sapMGTWithoutImageHoverOverlay");if(t._isIconMode()){if(t.getFrameType()===s.OneByOne){e.style("border-radius","1rem")}else{e.style("border-radius","0.75rem")}}}e.openEnd();e.close("div")};i._renderHeader=function(e,t){e.openStart("div",t.getId()+"-hdr-text");e.class("sapMGTHdrTxt");if(t._isActionMode()&&this._isValueColorValid(t.getValueColor())){e.class("sapMGTCriticalHdrTxt");e.class(t.getValueColor())}e.openEnd();e.renderControl(t._oTitle);e.close("div")};i._renderSubheader=function(e,t){e.openStart("div",t.getId()+"-subHdr-text");e.class("sapMGTSubHdrTxt");e.openEnd();e.renderControl(t._oSubTitle);e.close("div")};i._isValueColorValid=function(e){if(e==r.Good||e==r.Error||e==r.Neutral||e==r.Critical){return true}return false};i._isThemeHighContrast=function(){return/(hcw|hcb)/g.test(o.getTheme())};i._isNewsContentPresent=function(e,t){var o=false;for(var n=0;n<t;n++){var a=e[n].getContent();if(a&&a.isA("sap.m.NewsContent")){o=true;break}}return o};return i},true);
//# sourceMappingURL=GenericTileRenderer.js.map