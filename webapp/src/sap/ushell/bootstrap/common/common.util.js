// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/base/util/ObjectPath"],function(e,o){"use strict";function t(e){Object.keys(e).filter(function(o){return typeof e[o]==="object"}).forEach(function(o){e[o]=t(e[o])});return Object.freeze(e)}function i(){return location.protocol+"//"+location.host}function s(e){if(typeof e==="string"&&e.charAt(e.length-1)!=="/"){return e+"/"}return e}function r(e,o,t){var i;if(!o){return}i=t?JSON.parse(JSON.stringify(o)):o;Object.keys(i).forEach(function(o){if(typeof e[o]==="object"&&typeof i[o]==="object"){r(e[o],i[o],false);return}e[o]=i[o]})}function n(o){var t=o||window.location.search,i=/sap-statistics=(true|x|X)/.test(t);if(!i){try{i=window.localStorage.getItem("sap-ui-statistics")==="X"}catch(o){e.warning("failed to read sap-statistics setting from local storage",null,"sap.ushell.bootstrap")}}return!!i}function a(t){window["sap-ushell-config-migration"]=true;[{from:"services.Bookmark",to:"services.BookmarkV2"},{from:"services.CrossApplicationNavigation",to:"services.Navigation"},{from:"services.Notifications",to:"services.NotificationsV2"},{from:"services.Personalization",to:"services.PersonalizationV2"},{from:"services.LaunchPage",to:"services.FlpLaunchPage"},{from:"services.ShellNavigation",to:"services.ShellNavigationInternal"},{from:"services.NavTargetResolution",to:"services.NavTargetResolutionInternal"}].forEach(i=>{const s=i.from.split(".")[1];const r=o.get(i.from,t);const n=o.get(i.to,t);if(r&&!n){e.warning(`The service config for ${i.from} is migrated to ${i.to}`,"common.util");const n={...r};if(n.module===`sap.ushell.services.${s}`){delete n.module}o.set(i.to,n,t)}})}function c(t){window["sap-ushell-config-migration"]=true;const i={};[{from:"services.Bookmark",to:"services.BookmarkV2"},{from:"services.CrossApplicationNavigation",to:"services.Navigation"},{from:"services.Notifications",to:"services.NotificationsV2"},{from:"services.Personalization",to:"services.PersonalizationV2"},{from:"services.LaunchPage",to:"services.FlpLaunchPage"},{from:"services.ShellNavigation",to:"services.ShellNavigationInternal"},{from:"services.NavTargetResolution",to:"services.NavTargetResolutionInternal"}].forEach(s=>{const r=s.from.split(".")[1];const n=o.get(s.from,t);const a=o.get(s.to,t);if(n&&!a){e.warning(`The service config for ${s.from} is migrated to ${s.to}`,"common.util");const t={...n};if(t.module===`sap.ushell.services.${r}`){delete t.module}o.set(s.to,t,i)}});return JSON.parse(JSON.stringify(i))}return{deepFreeze:t,getLocationOrigin:i,ensureTrailingSlash:s,mergeConfig:r,isSapStatisticsSet:n,migrateV2ServiceConfig:a,getV2ServiceMigrationConfig:c}});
//# sourceMappingURL=common.util.js.map